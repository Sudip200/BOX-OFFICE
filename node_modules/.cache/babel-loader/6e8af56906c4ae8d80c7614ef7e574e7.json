{"ast":null,"code":"import _slicedToArray from \"/workspace/BOX-OFFICE/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _objectSpread from \"/workspace/BOX-OFFICE/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\n\nvar _jsxFileName = \"/workspace/BOX-OFFICE/src/pages/Show.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useReducer, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nimport ShowMainData from \"../components/shows/ShowMainData\"; //import Details from \"../components/shows/Details\";\n\nimport Details from \"../components/shows/Details\";\nimport Seasons from \"../components/shows/Seasons\";\nimport Cast from \"../components/shows/Cast\"; //import { apiGet } from '../misc/config';\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar reducer = function reducer(prevState, action) {\n  switch (action.type) {\n    case \"FETCH_SUCCESS\":\n      {\n        return {\n          isLoading: false,\n          error: null,\n          show: action.show\n        };\n      }\n\n    case \"FETCH_FAILED\":\n      {\n        return _objectSpread(_objectSpread({}, prevState), {}, {\n          isLoading: false,\n          error: action.error\n        });\n      }\n\n    default:\n      return prevState;\n  }\n};\n\nvar initialState = {\n  show: null,\n  isLoading: true,\n  error: null\n};\n\nvar Show = function Show() {\n  _s();\n\n  var _useParams = useParams(),\n      id = _useParams.id;\n\n  console.log(id);\n\n  var _useReducer = useReducer(reducer, initialState),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      _useReducer2$ = _useReducer2[0],\n      show = _useReducer2$.show,\n      isLoading = _useReducer2$.isLoading,\n      error = _useReducer2$.error,\n      dispatch = _useReducer2[1];\n\n  useEffect(function () {\n    var isMounted = true;\n    axios(\"https://api.tvmaze.com/shows/\" + id + \"?embed[]=seasons&embed[]=cast\").then(function (results) {\n      if (isMounted) {\n        dispatch({\n          type: \"FETCH_SUCCESS\",\n          show: results.data\n        });\n      }\n    }).catch(function (err) {\n      if (isMounted) {\n        dispatch({\n          type: \"FETCH_FAILED\",\n          error: err.message\n        });\n      }\n    });\n    return function () {\n      isMounted = false;\n    };\n  }, [id]);\n  console.log(\"show\", show); //console.log(res);\n\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Data is being loaded\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 12\n    }, _this);\n  }\n\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Error occured: \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 12\n    }, _this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(ShowMainData, {\n      image: show.image,\n      name: show.name,\n      rating: show.rating,\n      summary: show.summary,\n      tags: show.genres\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Details\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Details, {\n        status: show.status,\n        network: show.network,\n        premiered: show.premiered\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Seasons\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Seasons, {\n        seasons: show._embedded.seasons\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Cast\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Cast, {\n        cast: show._embedded.cast\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(Show, \"nmAMxP9VIL71D5DR7tcQcgxdq2A=\", false, function () {\n  return [useParams];\n});\n\n_c = Show;\nexport default Show;\n\nvar _c;\n\n$RefreshReg$(_c, \"Show\");","map":{"version":3,"names":["React","useEffect","useReducer","useState","useParams","axios","ShowMainData","Details","Seasons","Cast","reducer","prevState","action","type","isLoading","error","show","initialState","Show","id","console","log","dispatch","isMounted","then","results","data","catch","err","message","image","name","rating","summary","genres","status","network","premiered","_embedded","seasons","cast"],"sources":["/workspace/BOX-OFFICE/src/pages/Show.js"],"sourcesContent":["import React, { useEffect, useReducer, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport axios from \"axios\"\nimport ShowMainData from \"../components/shows/ShowMainData\";\n//import Details from \"../components/shows/Details\";\nimport Details from \"../components/shows/Details\";\nimport Seasons from \"../components/shows/Seasons\";\nimport Cast from \"../components/shows/Cast\";\n\n//import { apiGet } from '../misc/config';\nconst reducer = (prevState, action) => {\n  switch (action.type) {\n    case \"FETCH_SUCCESS\": {\n      return { isLoading: false, error: null, show: action.show };\n    }\n    case \"FETCH_FAILED\": {\n      return { ...prevState, isLoading: false, error: action.error };\n    }\n    default:\n      return prevState;\n  }\n};\nconst initialState = {\n  show: null,\n  isLoading: true,\n  error: null\n};\n\nconst Show = () => {\n \n  const { id } = useParams();\n  console.log(id);\n  const [{ show, isLoading, error }, dispatch] = useReducer(\n    reducer,\n    initialState\n  );\n\n  useEffect(() => {\n    let isMounted = true;\n    axios(\"https://api.tvmaze.com/shows/\"+id+\"?embed[]=seasons&embed[]=cast\")\n      .then((results) => {\n       if (isMounted) {\n        dispatch({ type: \"FETCH_SUCCESS\", show: results.data });\n        }\n      })\n      \n      .catch((err) => {\n        if (isMounted) {\n          dispatch({ type: \"FETCH_FAILED\", error: err.message });\n       }\n      });\n    return () => {\n      isMounted = false;\n    };\n  }, [id]);\n\n  console.log(\"show\", show);\n //console.log(res);\n  if (isLoading) {\n    return <div><h3>Data is being loaded</h3></div>;\n  }\n\n  if (error) {\n    return <div>Error occured: {error}</div>;\n  }\n\n  return (\n    <div>\n      <ShowMainData\n        image={show.image}\n        name={show.name}\n        rating={show.rating}\n        summary={show.summary}\n        tags={show.genres}\n      />\n\n      <div>\n        <h2>Details</h2>\n        <Details\n          status={show.status}\n          network={show.network}\n          premiered={show.premiered}\n        />\n      </div>\n\n      <div>\n        <h2>Seasons</h2>\n        <Seasons seasons={show._embedded.seasons} />\n      </div>\n\n      <div>\n        <h2>Cast</h2>\n        <Cast cast={show._embedded.cast} />\n      </div>\n    </div>\n\n  );\n};\n\nexport default Show;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}