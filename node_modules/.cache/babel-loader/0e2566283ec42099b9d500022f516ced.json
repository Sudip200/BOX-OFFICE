{"ast":null,"code":"import _slicedToArray from\"/workspace/BOX-OFFICE/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{useState}from\"react\";import ActorGrid from\"../components/actors/ActorGrid\";import MainPageLayout from\"../components/MainPageLayout\";import ShowGrid from\"../components/shows/ShowGrid\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Home=function Home(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),input=_useState2[0],setInput=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),results=_useState4[0],setResults=_useState4[1];var _useState5=useState('shows'),_useState6=_slicedToArray(_useState5,2),searchOption=_useState6[0],setSearchOption=_useState6[1];var isShowsSearch=searchOption==='shows';var onSearch=function onSearch(){fetch(\"https://api.tvmaze.com/search/\".concat(searchOption,\"?q=\").concat(input)).then(function(r){return r.json();}).then(function(result){setResults(result);console.log(result);});};var onInputChange=function onInputChange(ev){setInput(ev.target.value);};var onKeyDown=function onKeyDown(ev){if(ev.keyCode===13){onSearch();}};var onRadioChange=function onRadioChange(ev){setSearchOption(ev.target.value);};var renderResults=function renderResults(){if(results&&results.length===0){return/*#__PURE__*/_jsx(\"div\",{children:\"No results\"});}if(results&&results.length>0){return results[0].show?/*#__PURE__*/_jsx(ShowGrid,{data:results}):/*#__PURE__*/_jsx(ActorGrid,{data:results});}return null;};return/*#__PURE__*/_jsxs(MainPageLayout,{className:\"main-page-layout\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:onInputChange,onKeyDown:onKeyDown,value:input,style:{width:'20rem',height:'3em'}}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"shows-search\",children:[\"Shows\",/*#__PURE__*/_jsx(\"input\",{id:\"shows-search\",type:\"radio\",value:\"shows\",checked:isShowsSearch,onChange:onRadioChange,style:{}})]}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"actors-search\",children:[\"Actors\",/*#__PURE__*/_jsx(\"input\",{id:\"actors-search\",type:\"radio\",value:\"people\",style:{marginRight:'10px'},checked:!isShowsSearch,onChange:onRadioChange})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onSearch,style:{width:'20rem',height:'3em',border:'none',background:'blue',color:'white',marginTop:'15px'},children:\"Search\"}),renderResults()]});};export default Home;","map":{"version":3,"names":["React","useState","ActorGrid","MainPageLayout","ShowGrid","Home","input","setInput","results","setResults","searchOption","setSearchOption","isShowsSearch","onSearch","fetch","then","r","json","result","console","log","onInputChange","ev","target","value","onKeyDown","keyCode","onRadioChange","renderResults","length","show","width","height","marginRight","border","background","color","marginTop"],"sources":["/workspace/BOX-OFFICE/src/pages/Home.js"],"sourcesContent":["import React from \"react\";\nimport { useState } from \"react\";\nimport ActorGrid from \"../components/actors/ActorGrid\";\nimport MainPageLayout from \"../components/MainPageLayout\";\nimport ShowGrid from \"../components/shows/ShowGrid\"\nconst Home = () => {\n  const [input, setInput] = useState(\"\");\n  const [results, setResults] = useState(null);\n  const [searchOption, setSearchOption] = useState('shows');\n  const isShowsSearch = searchOption === 'shows';\n\n\n\n\n  const onSearch = () => {\n    fetch(`https://api.tvmaze.com/search/${searchOption}?q=${input}`)\n      .then((r) => r.json())\n      .then((result) => {\n        setResults(result)\n        console.log(result);\n      });\n  };\n\n  const onInputChange = (ev) => {\n    setInput(ev.target.value);\n  };\n\n  const onKeyDown = (ev) => {\n    if (ev.keyCode === 13) {\n      onSearch();\n    }\n  };\n  const onRadioChange = ev => {\n    setSearchOption(ev.target.value);\n  };\n\n\n  const renderResults = () => {\n    if (results && results.length === 0) {\n      return <div>No results</div>;\n    }\n    if (results && results.length > 0) {\n    return   results[0].show\n      ?  <ShowGrid data={results} />\n\n      : <ActorGrid data={results}/>;\n\n      \n    }\n\n    return null;\n\n  }\n\n  return (\n    <MainPageLayout className=\"main-page-layout\">\n      <input\n        type=\"text\"\n        onChange={onInputChange}\n        onKeyDown={onKeyDown}\n        value={input}\n        style={{width:'20rem' ,height:'3em'}}\n      />\n       <div>\n        <label htmlFor=\"shows-search\">\n          Shows\n          <input\n            id=\"shows-search\"\n            type=\"radio\"\n            value=\"shows\"\n            checked={isShowsSearch}\n            onChange={onRadioChange}\n            style={{}}\n          />\n        </label>\n\n        <label htmlFor=\"actors-search\">\n          Actors\n          <input\n            id=\"actors-search\"\n            type=\"radio\"\n            value=\"people\"\n            style={{marginRight:'10px'}}\n            checked={!isShowsSearch}\n            onChange={onRadioChange}\n          />\n        </label>\n      </div>\n\n      <button type=\"button\" onClick={onSearch}  style={{width:'20rem' ,height:'3em',border:'none',background:'blue',color:'white',marginTop:'15px'}}>\n        Search\n      </button>\n      {renderResults()}\n\n    </MainPageLayout>\n  );\n};\n\nexport default Home;\n"],"mappings":"+IAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,OAAzB,CACA,MAAOC,UAAP,KAAsB,gCAAtB,CACA,MAAOC,eAAP,KAA2B,8BAA3B,CACA,MAAOC,SAAP,KAAqB,8BAArB,C,wFACA,GAAMC,KAAI,CAAG,QAAPA,KAAO,EAAM,CACjB,cAA0BJ,QAAQ,CAAC,EAAD,CAAlC,wCAAOK,KAAP,eAAcC,QAAd,eACA,eAA8BN,QAAQ,CAAC,IAAD,CAAtC,yCAAOO,OAAP,eAAgBC,UAAhB,eACA,eAAwCR,QAAQ,CAAC,OAAD,CAAhD,yCAAOS,YAAP,eAAqBC,eAArB,eACA,GAAMC,cAAa,CAAGF,YAAY,GAAK,OAAvC,CAKA,GAAMG,SAAQ,CAAG,QAAXA,SAAW,EAAM,CACrBC,KAAK,yCAAkCJ,YAAlC,eAAoDJ,KAApD,EAAL,CACGS,IADH,CACQ,SAACC,CAAD,QAAOA,EAAC,CAACC,IAAF,EAAP,EADR,EAEGF,IAFH,CAEQ,SAACG,MAAD,CAAY,CAChBT,UAAU,CAACS,MAAD,CAAV,CACAC,OAAO,CAACC,GAAR,CAAYF,MAAZ,EACD,CALH,EAMD,CAPD,CASA,GAAMG,cAAa,CAAG,QAAhBA,cAAgB,CAACC,EAAD,CAAQ,CAC5Bf,QAAQ,CAACe,EAAE,CAACC,MAAH,CAAUC,KAAX,CAAR,CACD,CAFD,CAIA,GAAMC,UAAS,CAAG,QAAZA,UAAY,CAACH,EAAD,CAAQ,CACxB,GAAIA,EAAE,CAACI,OAAH,GAAe,EAAnB,CAAuB,CACrBb,QAAQ,GACT,CACF,CAJD,CAKA,GAAMc,cAAa,CAAG,QAAhBA,cAAgB,CAAAL,EAAE,CAAI,CAC1BX,eAAe,CAACW,EAAE,CAACC,MAAH,CAAUC,KAAX,CAAf,CACD,CAFD,CAKA,GAAMI,cAAa,CAAG,QAAhBA,cAAgB,EAAM,CAC1B,GAAIpB,OAAO,EAAIA,OAAO,CAACqB,MAAR,GAAmB,CAAlC,CAAqC,CACnC,mBAAO,mCAAP,CACD,CACD,GAAIrB,OAAO,EAAIA,OAAO,CAACqB,MAAR,CAAiB,CAAhC,CAAmC,CACnC,MAASrB,QAAO,CAAC,CAAD,CAAP,CAAWsB,IAAX,cACJ,KAAC,QAAD,EAAU,IAAI,CAAEtB,OAAhB,EADI,cAGL,KAAC,SAAD,EAAW,IAAI,CAAEA,OAAjB,EAHJ,CAMC,CAED,MAAO,KAAP,CAED,CAfD,CAiBA,mBACE,MAAC,cAAD,EAAgB,SAAS,CAAC,kBAA1B,wBACE,cACE,IAAI,CAAC,MADP,CAEE,QAAQ,CAAEa,aAFZ,CAGE,SAAS,CAAEI,SAHb,CAIE,KAAK,CAAEnB,KAJT,CAKE,KAAK,CAAE,CAACyB,KAAK,CAAC,OAAP,CAAgBC,MAAM,CAAC,KAAvB,CALT,EADF,cAQG,oCACC,eAAO,OAAO,CAAC,cAAf,gCAEE,cACE,EAAE,CAAC,cADL,CAEE,IAAI,CAAC,OAFP,CAGE,KAAK,CAAC,OAHR,CAIE,OAAO,CAAEpB,aAJX,CAKE,QAAQ,CAAEe,aALZ,CAME,KAAK,CAAE,EANT,EAFF,GADD,cAaC,eAAO,OAAO,CAAC,eAAf,iCAEE,cACE,EAAE,CAAC,eADL,CAEE,IAAI,CAAC,OAFP,CAGE,KAAK,CAAC,QAHR,CAIE,KAAK,CAAE,CAACM,WAAW,CAAC,MAAb,CAJT,CAKE,OAAO,CAAE,CAACrB,aALZ,CAME,QAAQ,CAAEe,aANZ,EAFF,GAbD,GARH,cAkCE,eAAQ,IAAI,CAAC,QAAb,CAAsB,OAAO,CAAEd,QAA/B,CAA0C,KAAK,CAAE,CAACkB,KAAK,CAAC,OAAP,CAAgBC,MAAM,CAAC,KAAvB,CAA6BE,MAAM,CAAC,MAApC,CAA2CC,UAAU,CAAC,MAAtD,CAA6DC,KAAK,CAAC,OAAnE,CAA2EC,SAAS,CAAC,MAArF,CAAjD,oBAlCF,CAqCGT,aAAa,EArChB,GADF,CA0CD,CA3FD,CA6FA,cAAevB,KAAf"},"metadata":{},"sourceType":"module"}